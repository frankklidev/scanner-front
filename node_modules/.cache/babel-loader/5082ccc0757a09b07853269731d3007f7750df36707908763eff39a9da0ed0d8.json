{"ast":null,"code":"var _jsxFileName = \"/Users/franklin/Desktop/Proyectos/store-main 2/src/modules/products/components/FormProduct.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport * as Yup from \"yup\";\nimport { Card } from \"../../app/components/Card\";\nimport { useFormik } from \"formik\";\nimport { Button } from \"../../app/components/Button\";\nimport { Input } from \"../../app/components/Input\";\nimport { Loading } from \"../../app/components/Loading\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { InputNum } from \"../../app/components/InputNumber\";\nimport { useAppDispatch } from \"../../app/store/index\";\nimport { createProduct } from \"../redux\";\nimport { useSelector } from \"react-redux\";\nimport { productsSelector, getProductById } from \"../redux/index\";\nimport { showMessage } from \"../../shared/redux/message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupSchema = Yup.object().shape({\n  code_product: Yup.string().required(\"Required field\"),\n  id_store: Yup.string().required(\"Required field\"),\n  name_product: Yup.string().required(\"Required field\"),\n  price_product: Yup.number().min(1).required(\"Required field\"),\n  stock_product: Yup.number().min(1).required(\"Required field\")\n});\nexport const FormProduct = () => {\n  _s();\n  const disptach = useAppDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    productId\n  } = useParams();\n  const {\n    loadingProducts\n  } = useSelector(productsSelector);\n  const [product, setProduct] = useState(undefined);\n  useEffect(() => {\n    if (productId) disptach(getProductById(productId)).unwrap().then(product => {\n      setProduct(product);\n    }).catch(error => {\n      disptach(showMessage({\n        severity: \"error\",\n        summary: error.response.data.message\n      }));\n    });\n  }, [productId]);\n  const formik = useFormik({\n    initialValues: {\n      code_product: (product === null || product === void 0 ? void 0 : product.code_product) || \"\",\n      id_store: (product === null || product === void 0 ? void 0 : product.id_store) || \"\",\n      name_product: (product === null || product === void 0 ? void 0 : product.name_product) || \"\",\n      price_product: (product === null || product === void 0 ? void 0 : product.price_product) || 1,\n      stock_product: (product === null || product === void 0 ? void 0 : product.stock_product) || 1\n    },\n    onSubmit: values => {\n      console.log(values);\n    },\n    validationSchema: SignupSchema\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-3\",\n    children: [/*#__PURE__*/_jsxDEV(Loading, {\n      show: loadingProducts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: \"mx-3 shadow-3\",\n        title: location.pathname.split(\"/\").at(-1) === \"edit\" ? \"Update product\" : \"Create product\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            style: \"col-4\",\n            required: true,\n            value: formik.values.code_product,\n            name: \"code_product\",\n            label: \"Code\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            style: \"col-4\",\n            required: true,\n            value: formik.values.id_store,\n            name: \"id_store\",\n            label: \"Store\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            style: \"col-4\",\n            required: true,\n            value: formik.values.name_product,\n            name: \"name_product\",\n            label: \"Name\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(InputNum, {\n            style: \"col-4\",\n            required: true,\n            value: formik.values.price_product,\n            name: \"price_product\",\n            label: \"Price\",\n            icon: \"pi pi-info-circle\",\n            onChange: e => {\n              void formik.setFieldTouched(\"price_product\", true);\n              void formik.setFieldValue(\"price_product\", e.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"number\",\n            style: \"col-4\",\n            required: true,\n            value: formik.values.stock_product,\n            name: \"stock_product\",\n            label: \"Stock\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid flex-row mt-3 mr-3 justify-content-end\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          style: \"mr-3\",\n          label: \"Finalizar\",\n          icon: \"pi pi-check\",\n          onClick: () => navigate(-1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button\n        // onClick={() => console.log(formik.values)}\n        , {\n          onClick: () => disptach(createProduct(formik.values)),\n          disabled: !formik.isValid || !formik.dirty,\n          type: \"button\",\n          label: \"Guardar\",\n          icon: \"pi pi-save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(FormProduct, \"H6ud8Gr8agWYqKT4K1RSci6UGPs=\", false, function () {\n  return [useAppDispatch, useLocation, useNavigate, useParams, useSelector, useFormik];\n});\n_c = FormProduct;\nvar _c;\n$RefreshReg$(_c, \"FormProduct\");","map":{"version":3,"names":["useEffect","useState","Yup","Card","useFormik","Button","Input","Loading","useLocation","useNavigate","useParams","InputNum","useAppDispatch","createProduct","useSelector","productsSelector","getProductById","showMessage","SignupSchema","object","shape","code_product","string","required","id_store","name_product","price_product","number","min","stock_product","FormProduct","disptach","location","navigate","productId","loadingProducts","product","setProduct","undefined","unwrap","then","catch","error","severity","summary","response","data","message","formik","initialValues","onSubmit","values","console","log","validationSchema","pathname","split","at","handleChange","e","setFieldTouched","setFieldValue","value","isValid","dirty"],"sources":["/Users/franklin/Desktop/Proyectos/store-main 2/src/modules/products/components/FormProduct.tsx"],"sourcesContent":["import { FC, ReactElement, useEffect, useState } from \"react\";\n\nimport * as Yup from \"yup\";\n\nimport { Card } from \"../../app/components/Card\";\nimport { useFormik } from \"formik\";\nimport { Button } from \"../../app/components/Button\";\nimport { Input } from \"../../app/components/Input\";\nimport { Loading } from \"../../app/components/Loading\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { IProduct } from \"../types/index\";\nimport { InputNum } from \"../../app/components/InputNumber\";\nimport { useAppDispatch } from \"../../app/store/index\";\nimport { createProduct } from \"../redux\";\nimport { useSelector } from \"react-redux\";\nimport { productsSelector, getProductById } from \"../redux/index\";\nimport { showMessage } from \"../../shared/redux/message\";\n\nconst SignupSchema = Yup.object().shape({\n  code_product: Yup.string().required(\"Required field\"),\n  id_store: Yup.string().required(\"Required field\"),\n  name_product: Yup.string().required(\"Required field\"),\n  price_product: Yup.number().min(1).required(\"Required field\"),\n  stock_product: Yup.number().min(1).required(\"Required field\"),\n});\n\nexport const FormProduct: FC = (): ReactElement => {\n  const disptach = useAppDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { productId } = useParams();\n  const { loadingProducts } = useSelector(productsSelector);\n  const [product, setProduct] = useState<IProduct | undefined>(undefined);\n\n  useEffect(() => {\n    if (productId)\n      disptach(getProductById(productId))\n        .unwrap()\n        .then((product) => {\n          setProduct(product);\n        })\n        .catch((error) => {\n          disptach(\n            showMessage({\n              severity: \"error\",\n              summary: error.response.data.message,\n            })\n          );\n        });\n  }, [productId]);\n\n  const formik = useFormik<IProduct>({\n    initialValues: {\n      code_product: product?.code_product || \"\",\n      id_store: product?.id_store || \"\",\n      name_product: product?.name_product || \"\",\n      price_product: product?.price_product || 1,\n      stock_product: product?.stock_product || 1,\n    },\n    onSubmit: (values) => {\n      console.log(values);\n    },\n    validationSchema: SignupSchema,\n  });\n\n  return (\n    <div className=\"pt-3\">\n      <Loading show={loadingProducts} />\n      <form>\n        <Card\n          style={\"mx-3 shadow-3\"}\n          title={\n            location.pathname.split(\"/\").at(-1) === \"edit\"\n              ? \"Update product\"\n              : \"Create product\"\n          }\n        >\n          <div className={\"grid flex-row\"}>\n            <Input\n              style=\"col-4\"\n              required\n              value={formik.values.code_product}\n              name={\"code_product\"}\n              label={\"Code\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n            <Input\n              style=\"col-4\"\n              required\n              value={formik.values.id_store}\n              name={\"id_store\"}\n              label={\"Store\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n            <Input\n              style=\"col-4\"\n              required\n              value={formik.values.name_product}\n              name={\"name_product\"}\n              label={\"Name\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n          </div>\n          <div className={\"grid flex-row\"}>\n            <InputNum\n              style=\"col-4\"\n              required\n              value={formik.values.price_product}\n              name={\"price_product\"}\n              label={\"Price\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={(e: any) => {\n                void formik.setFieldTouched(\"price_product\", true);\n                void formik.setFieldValue(\"price_product\", e.value);\n              }}\n            />\n            <Input\n              type=\"number\"\n              style=\"col-4\"\n              required\n              value={formik.values.stock_product}\n              name={\"stock_product\"}\n              label={\"Stock\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n          </div>\n        </Card>\n        <div className={\"grid flex-row mt-3 mr-3 justify-content-end\"}>\n          <Button\n            type=\"button\"\n            style={\"mr-3\"}\n            label=\"Finalizar\"\n            icon={\"pi pi-check\"}\n            onClick={() => navigate(-1)}\n          />\n          <Button\n            // onClick={() => console.log(formik.values)}\n            onClick={() => disptach(createProduct(formik.values))}\n            disabled={!formik.isValid || !formik.dirty}\n            type=\"button\"\n            label=\"Guardar\"\n            icon={\"pi pi-save\"}\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from \"axios\";\nconst customAxiosConfig = url => {\n  const axiosConfig = {\n    headers: {\n      \"Content-Type\": \"application/json;charset=UTF-8\"\n    },\n    baseURL: url\n  };\n  return axiosConfig;\n};\nconst customAxiosApp = axios.create(customAxiosConfig(\"http://localhost:3000/api/\"));\nexport const customAxiosAppAuth = axios.create(customAxiosConfig(\"http://localhost:3000/api/\"));\ncustomAxiosApp.interceptors.request.use(config => {\n  config.headers.Authorization = `Bearer ${localStorage.getItem(\"token\")}`;\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\ncustomAxiosApp.interceptors.response.use(response => {\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response3;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 500) {\n    window.location.replace('/server-error');\n  }\n  if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401 || ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 403) {\n    localStorage.clear();\n    window.location.replace('/auth/login');\n  }\n  return Promise.reject(error);\n});\nexport default customAxiosApp;","map":{"version":3,"names":["axios","customAxiosConfig","url","axiosConfig","headers","baseURL","customAxiosApp","create","customAxiosAppAuth","interceptors","request","use","config","Authorization","localStorage","getItem","error","Promise","reject","response","status","window","location","replace","clear"],"sources":["/Users/franklin/Desktop/Proyectos/store-main 2/src/modules/shared/axiosConfig/index.ts"],"sourcesContent":["import axios, { AxiosError, AxiosRequestConfig } from \"axios\";\n\nconst customAxiosConfig = (url: string) => {\n  const axiosConfig: AxiosRequestConfig = {\n    headers: {\n      \"Content-Type\": \"application/json;charset=UTF-8\",\n    },\n    baseURL: url,\n  };\n\n  return axiosConfig;\n};\nconst customAxiosApp = axios.create(\n  customAxiosConfig(\"http://localhost:3000/api/\")\n);\nexport const customAxiosAppAuth = axios.create(\n  customAxiosConfig(\"http://localhost:3000/api/\")\n);\n\ncustomAxiosApp.interceptors.request.use(\n  (config) => {\n    config.headers!.Authorization = `Bearer ${localStorage.getItem(\"token\")}`;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\ncustomAxiosApp.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error: AxiosError) => {\n    if (error.response?.status === 500) {\n      window.location.replace('/server-error');\n    }\n    if (error.response?.status === 401 || error.response?.status === 403) {\n      localStorage.clear();\n      window.location.replace('/auth/login');\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default customAxiosApp;\n"],"mappings":"AAAA,OAAOA,KAAK,MAA0C,OAAO;AAE7D,MAAMC,iBAAiB,GAAIC,GAAW,IAAK;EACzC,MAAMC,WAA+B,GAAG;IACtCC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,OAAO,EAAEH;EACX,CAAC;EAED,OAAOC,WAAW;AACpB,CAAC;AACD,MAAMG,cAAc,GAAGN,KAAK,CAACO,MAAM,CACjCN,iBAAiB,CAAC,4BAA4B,CAAC,CAChD;AACD,OAAO,MAAMO,kBAAkB,GAAGR,KAAK,CAACO,MAAM,CAC5CN,iBAAiB,CAAC,4BAA4B,CAAC,CAChD;AAEDK,cAAc,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CACpCC,MAAM,IAAK;EACVA,MAAM,CAACR,OAAO,CAAES,aAAa,GAAI,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,EAAC;EACzE,OAAOH,MAAM;AACf,CAAC,EACAI,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAEDV,cAAc,CAACG,YAAY,CAACU,QAAQ,CAACR,GAAG,CACrCQ,QAAQ,IAAK;EACZ,OAAOA,QAAQ;AACjB,CAAC,EACAH,KAAiB,IAAK;EAAA;EACrB,IAAI,oBAAAA,KAAK,CAACG,QAAQ,oDAAd,gBAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC;EAC1C;EACA,IAAI,qBAAAP,KAAK,CAACG,QAAQ,qDAAd,iBAAgBC,MAAM,MAAK,GAAG,IAAI,qBAAAJ,KAAK,CAACG,QAAQ,qDAAd,iBAAgBC,MAAM,MAAK,GAAG,EAAE;IACpEN,YAAY,CAACU,KAAK,EAAE;IACpBH,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,aAAa,CAAC;EACxC;EACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,eAAeV,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}
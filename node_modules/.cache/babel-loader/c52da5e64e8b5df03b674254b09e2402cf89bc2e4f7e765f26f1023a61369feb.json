{"ast":null,"code":"var _jsxFileName = \"/Users/franklin/Downloads/store-main 2/src/modules/sales/components/FormSale.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Card } from \"../../app/components/Card\";\nimport { useFormik } from \"formik\";\nimport { Button } from \"../../app/components/Button\";\nimport { Input } from \"../../app/components/Input\";\nimport { Loading } from \"../../app/components/Loading\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { salesSelector, createSale, getSaleById } from \"../redux/index\";\nimport { useSelector } from \"react-redux\";\nimport { useAppDispatch } from \"../../app/store\";\nimport { showMessage } from \"../../shared/redux/message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupSchema = Yup.object().shape({\n  code_product: Yup.string().required(\"Required field\"),\n  count_product: Yup.number().min(1).required(\"Required field\"),\n  type_of_sale: Yup.number().required(\"Required field\")\n});\nexport const FormSale = () => {\n  _s();\n  var _formik$values;\n  const disptach = useAppDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    saleId\n  } = useParams();\n  const [sale, setSale] = useState(undefined);\n  const {\n    loadingSales\n  } = useSelector(salesSelector);\n  useEffect(() => {\n    if (saleId) disptach(getSaleById(saleId)).unwrap().then(sale => {\n      setSale(sale);\n    }).catch(error => {\n      disptach(showMessage({\n        severity: \"error\",\n        summary: error.response.data.message\n      }));\n    });\n  }, [saleId]);\n  const formik = useFormik({\n    initialValues: {\n      code_product: (sale === null || sale === void 0 ? void 0 : sale.code_product) || \"\",\n      count_product: (sale === null || sale === void 0 ? void 0 : sale.count_product) || 1,\n      type_of_sale: (sale === null || sale === void 0 ? void 0 : sale.type_of_sale) || 1\n    },\n    onSubmit: values => {\n      console.log(values);\n    },\n    validationSchema: SignupSchema\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-3\",\n    children: [/*#__PURE__*/_jsxDEV(Loading, {\n      show: loadingSales\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: \"mx-3 shadow-3\",\n        title: location.pathname.split(\"/\").at(-1) === \"edit\" ? \"Update sale\" : \"Create sale\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            style: \"col-4\",\n            required: true,\n            value: formik.values.code_product,\n            name: \"code_product\",\n            label: \"Code\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"number\",\n            style: \"col-4\",\n            required: true,\n            value: (_formik$values = formik.values) === null || _formik$values === void 0 ? void 0 : _formik$values.count_product,\n            name: \"count_product\",\n            label: \"Count\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            style: \"col-4\",\n            required: true,\n            value: formik.values.type_of_sale,\n            name: \"type_of_sale\",\n            label: \"Sale type\",\n            icon: \"pi pi-info-circle\",\n            onChange: formik.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid flex-row mt-3 mr-3 justify-content-end\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          style: \"mr-3\",\n          label: \"Finalizar\",\n          icon: \"pi pi-check\",\n          onClick: () => navigate(-1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button\n        // onClick={() => console.log(formik.values)}\n        , {\n          onClick: () => disptach(createSale(formik.values)),\n          disabled: !formik.isValid || !formik.dirty,\n          type: \"button\",\n          label: \"Guardar\",\n          icon: \"pi pi-save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(FormSale, \"58gi91pyDgePlqvVjRRZFerIEaA=\", false, function () {\n  return [useAppDispatch, useLocation, useNavigate, useParams, useSelector, useFormik];\n});\n_c = FormSale;\nvar _c;\n$RefreshReg$(_c, \"FormSale\");","map":{"version":3,"names":["useState","useEffect","Yup","Card","useFormik","Button","Input","Loading","useLocation","useNavigate","useParams","salesSelector","createSale","getSaleById","useSelector","useAppDispatch","showMessage","SignupSchema","object","shape","code_product","string","required","count_product","number","min","type_of_sale","FormSale","disptach","location","navigate","saleId","sale","setSale","undefined","loadingSales","unwrap","then","catch","error","severity","summary","response","data","message","formik","initialValues","onSubmit","values","console","log","validationSchema","pathname","split","at","handleChange","isValid","dirty"],"sources":["/Users/franklin/Downloads/store-main 2/src/modules/sales/components/FormSale.tsx"],"sourcesContent":["import { FC, ReactElement, useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\n\nimport { Card } from \"../../app/components/Card\";\nimport { useFormik } from \"formik\";\nimport { Button } from \"../../app/components/Button\";\nimport { Input } from \"../../app/components/Input\";\nimport { Loading } from \"../../app/components/Loading\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { salesSelector, createSale, getSaleById } from \"../redux/index\";\nimport { useSelector } from \"react-redux\";\nimport { useAppDispatch } from \"../../app/store\";\nimport { ISale } from \"../types/index\";\nimport { showMessage } from \"../../shared/redux/message\";\nimport { Dropdown } from \"primereact/dropdown\";\n\nconst SignupSchema = Yup.object().shape({\n  code_product: Yup.string().required(\"Required field\"),\n  count_product: Yup.number().min(1).required(\"Required field\"),\n  type_of_sale: Yup.number().required(\"Required field\"),\n});\n\nexport const FormSale: FC = (): ReactElement => {\n  const disptach = useAppDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { saleId } = useParams();\n  const [sale, setSale] = useState<ISale | undefined>(undefined);\n\n  const { loadingSales } = useSelector(salesSelector);\n\n  useEffect(() => {\n    if (saleId)\n      disptach(getSaleById(saleId))\n        .unwrap()\n        .then((sale) => {\n          setSale(sale);\n        })\n        .catch((error) => {\n          disptach(\n            showMessage({\n              severity: \"error\",\n              summary: error.response.data.message,\n            })\n          );\n        });\n  }, [saleId]);\n\n  const formik = useFormik<ISale>({\n    initialValues: {\n      code_product: sale?.code_product || \"\",\n      count_product: sale?.count_product || 1,\n      type_of_sale: sale?.type_of_sale || 1,\n    },\n    onSubmit: (values) => {\n      console.log(values);\n    },\n    validationSchema: SignupSchema,\n  });\n\n  return (\n    <div className=\"pt-3\">\n      <Loading show={loadingSales} />\n      <form>\n        <Card\n          style={\"mx-3 shadow-3\"}\n          title={\n            location.pathname.split(\"/\").at(-1) === \"edit\"\n              ? \"Update sale\"\n              : \"Create sale\"\n          }\n        >\n          <div className={\"grid flex-row\"}>\n            <Input\n              style=\"col-4\"\n              required\n              value={formik.values.code_product}\n              name={\"code_product\"}\n              label={\"Code\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n            <Input\n              type=\"number\"\n              style=\"col-4\"\n              required\n              value={formik.values?.count_product}\n              name={\"count_product\"}\n              label={\"Count\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n            <Input\n              type=\"text\"\n              style=\"col-4\"\n              required\n              value={formik.values.type_of_sale}\n              name={\"type_of_sale\"}\n              label={\"Sale type\"}\n              icon={\"pi pi-info-circle\"}\n              onChange={formik.handleChange}\n            />\n            \n          </div>\n        </Card>\n        <div className={\"grid flex-row mt-3 mr-3 justify-content-end\"}>\n          <Button\n            type=\"button\"\n            style={\"mr-3\"}\n            label=\"Finalizar\"\n            icon={\"pi pi-check\"}\n            onClick={() => navigate(-1)}\n          />\n          <Button\n            // onClick={() => console.log(formik.values)}\n            onClick={() => disptach(createSale(formik.values))}\n            disabled={!formik.isValid || !formik.dirty}\n            type=\"button\"\n            label=\"Guardar\"\n            icon={\"pi pi-save\"}\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}